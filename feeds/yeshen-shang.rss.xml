<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Yeshen Shang</title><link>http://shangsunset.github.io/</link><description></description><atom:link href="http://shangsunset.github.io/feeds/yeshen-shang.rss.xml" rel="self"></atom:link><lastBuildDate>Sat, 16 Aug 2014 10:50:00 -0400</lastBuildDate><item><title>Integrate Pelican Site and Github Page With Post Commit Hook</title><link>http://shangsunset.github.io/posts/2014/08/16/integrate-pelican-site-and-github-page-with-post-commit-hook/</link><description>&lt;p&gt;On Pelican's doc &lt;a href="http://docs.getpelican.com/en/latest/tips.html"&gt;Tips&lt;/a&gt; section, 
they have a trick to help you automatically push your output generated by Pelican to Github Page
using post-commit hook. As a newbie, i didnt know how to make
post-commit script executable until i found &lt;a href="http://mathamy.com/tag/git.html"&gt;Amy Hanlon's Post&lt;/a&gt;. So this is how you do it step by step:&lt;/p&gt;
&lt;p&gt;Go to &lt;code&gt;.git/hooks/&lt;/code&gt; in your local username.github.io repo and create
a file named &lt;code&gt;post-commit&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;vim&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;git&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;hooks&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;post&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;commit&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Put following lines in &lt;code&gt;post-commit&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
pelican content -o output -s pelicanconf.py &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; ghp-import output &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; git push git@github.com:username/username.github.io.git gh-pages:master
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Lastly, make &lt;code&gt;post-commit&lt;/code&gt; executable by running following command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;chmod&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;git&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;hooks&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;post&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;commit&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Yeshen Shang</dc:creator><pubDate>Sat, 16 Aug 2014 10:50:00 -0400</pubDate><guid>tag:shangsunset.github.io,2014-08-16:posts/2014/08/16/integrate-pelican-site-and-github-page-with-post-commit-hook/</guid><category>Pelican</category><category>Github Pages</category><category>Git Hook</category></item></channel></rss>